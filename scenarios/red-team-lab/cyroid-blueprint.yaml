# Red Team Training Lab Blueprint for CYROID
# Copy this file to CYROID's data/scenarios/ directory

seed_id: red-team-training-lab
name: Red Team Training Lab
description: |
  Comprehensive red team training environment featuring:
  - Kali Attack Box with pre-installed tools (Metasploit, Impacket, CrackMapExec, etc.)
  - WordPress target with SQL injection vulnerabilities
  - Windows/Samba Domain Controller
  - Internal file server with sensitive data
  - Victim workstation for BeEF exploitation

  Attack paths: SQLi → Credential theft → Lateral movement → Domain compromise

category: red-team
difficulty: intermediate
duration_minutes: 120

# Blueprint configuration
base_subnet_prefix: "172.16"

networks:
  - name: internet
    subnet: "172.16.0.0/24"
    gateway: "172.16.0.1"
    is_isolated: false

  - name: dmz
    subnet: "172.16.1.0/24"
    gateway: "172.16.1.1"
    is_isolated: true

  - name: internal
    subnet: "172.16.2.0/24"
    gateway: "172.16.2.1"
    is_isolated: true

vms:
  # Attack box
  - hostname: kali
    template_name: "Red Team - Kali Attack Box"
    network_name: internet
    ip_address: "172.16.0.10"
    cpu: 2
    ram_mb: 4096
    disk_gb: 40
    position_x: 100
    position_y: 200

  # DMZ - Web server (dual-homed)
  - hostname: webserver
    template_name: "Red Team - WordPress Target"
    network_name: dmz
    ip_address: "172.16.1.10"
    cpu: 1
    ram_mb: 2048
    disk_gb: 20
    position_x: 400
    position_y: 200

  # Internal network
  - hostname: dc01
    template_name: "Red Team - Windows DC"
    network_name: internal
    ip_address: "172.16.2.10"
    cpu: 2
    ram_mb: 4096
    disk_gb: 40
    position_x: 700
    position_y: 100

  - hostname: fileserver
    template_name: "Red Team - File Server"
    network_name: internal
    ip_address: "172.16.2.20"
    cpu: 1
    ram_mb: 1024
    disk_gb: 20
    position_x: 700
    position_y: 200

  - hostname: ws01
    template_name: "Red Team - Victim Workstation"
    network_name: internal
    ip_address: "172.16.2.30"
    cpu: 1
    ram_mb: 2048
    disk_gb: 20
    position_x: 700
    position_y: 300

router:
  enabled: true
  dhcp_enabled: false

# Training scenario events (optional)
events:
  - sequence: 1
    delay_minutes: 0
    title: "Phase 1: Reconnaissance"
    description: "Use Kali tools to scan and enumerate the DMZ webserver"

  - sequence: 2
    delay_minutes: 15
    title: "Phase 2: Initial Access"
    description: "Exploit SQL injection in WordPress to extract credentials"

  - sequence: 3
    delay_minutes: 30
    title: "Phase 3: Credential Harvesting"
    description: "Use extracted credentials to access internal network"

  - sequence: 4
    delay_minutes: 45
    title: "Phase 4: Lateral Movement"
    description: "Move from webserver to internal hosts using Impacket"

  - sequence: 5
    delay_minutes: 60
    title: "Phase 5: Domain Compromise"
    description: "Extract domain admin credentials and compromise DC"
